
// Copyright (C) metalgeni
//***************************************************************************
// System Name : SPWindowOption
// Comment     : 
// Creation    : metalgeni 2004-10-31 오후 12:13:47
//***************************************************************************


#define WIID_OPTION_TITLE_IMAGE					(WIID_OPTION + 1)
#define WIID_OPTION_TITLE						(WIID_OPTION + 2)
#define WIID_OPTION_EXIT						(WIID_OPTION + 5)

#define WIID_OPTION_SKIN_1						(WIID_OPTION + 10)			/**< 녹색 스킨 <br> */
#define WIID_OPTION_SYSTEM_BUTTON				(WIID_OPTION + 20)			/**< 시스템 버튼 <br> */
#define WIID_OPTION_COMMUNITY_BUTTON			(WIID_OPTION + 21)			/**< 커뮤니티 버튼 <br> */
#define WIID_OPTION_BENEFIT_BUTTON				(WIID_OPTION + 22)			/**< 유저편의 버튼 <br> */

#define WIID_OPTION_LINE_1						(WIID_OPTION + 25)			/**< 경계선 1 <br> */
#define WIID_OPTION_LINE_2						(WIID_OPTION + 26)			/**< 경계선 2 <br> */

#define WIID_OPTION_RESET						(WIID_OPTION + 30)			/**< 초기화 <br> */
#define WIID_OPTION_OK							(WIID_OPTION + 31)			/**< 확인 <br> */
#define WIID_OPTION_CANCEL						(WIID_OPTION + 32)			/**< 취소 <br> */

#define WIID_OPTION_SKIN2						(WIID_OPTION + 99)			/**< 흰 바탕 <br> */

#define WIID_OPTION_SYSTEM						(WIID_OPTION + 100)			/**< 시스템 <br> */
#define WIID_OPTION_MSG_IMAGE					(WIID_OPTION + 101)			/**< 메시지 이미지 <br> */
#define WIID_OPTION_SYSTEM_JOYPAD				(WIID_OPTION + 105)			/**< JoyStick Setting <br> */
#define WIID_OPTION_SYSTEM_EXP_IMG				(WIID_OPTION + 110)			/**< 습득 경험치 이미지 <br> */
#define WIID_OPTION_SYSTEM_ITEM_IMG				(WIID_OPTION + 111)			/**< 습득 아이템 이미지 <br> */
#define WIID_OPTION_SYSTEM_USE_IMG				(WIID_OPTION + 112)			/**< 아이템 사용 이미지 <br> */
#define WIID_OPTION_SYSTEM_HELP_IMG				(WIID_OPTION + 113)			/**< 체크 도움말 이미지 <br> */
#define WIID_OPTION_SYSTEM_SOUND_IMG			(WIID_OPTION + 120)			/**< 사운드 이미지 <br> */
#define WIID_OPTION_SYSTEM_SOUND_SKIN			(WIID_OPTION + 121)			/**< 사운드 바탕 이미지 <br> */
#define WIID_OPTION_SYSTEM_BGM_IMG				(WIID_OPTION + 122)			/**< 배경음악 이미지 <br> */
#define WIID_OPTION_SYSTEM_SE_IMG				(WIID_OPTION + 123)			/**< 효과음 이미지 <br> */
#define WIID_OPTION_SYSTEM_BGM_SLIDER			(WIID_OPTION + 125)			/**< BGM 슬라이더 <br> */
#define WIID_OPTION_SYSTEM_SE_SLIDER			(WIID_OPTION + 126)			/**< SE 슬라이더 <br> */
#define WIID_OPTION_SYSTEM_GRA_IMG				(WIID_OPTION + 130)			/**< 그래픽 이미지 <br> */
#define WIID_OPTION_SYSTEM_GRA_SKIN				(WIID_OPTION + 131)			/**< 그래픽 스킨 <br> */
#define WIID_OPTION_SYSTEM_GAMMA_IMG			(WIID_OPTION + 132)			/**< 화면 밝기 이미지 <br> */
#define WIID_OPTION_SYSTEM_EFFECT_IMG			(WIID_OPTION + 133)			/**< 이팩트 이미지 <br> */
#define WIID_OPTION_SYSTEM_GAMMA_SLIDER			(WIID_OPTION + 134)			/**< 화면 밝기 슬라이더 <br> */
#define WIID_OPTION_SYSTEM_EFFECT_SLIDER		(WIID_OPTION + 135)			/**< 이팩트 슬라이더 <br> */
#define WIID_OPTION_SYSTEM_CHECK				(WIID_OPTION + 150)			/**< 시스템 체크 버튼 리스트 <br> */

#define WIID_OPTION_COMMUNITY					(WIID_OPTION + 200)			/**< 커뮤니티 <br> */
#define WIID_OPTION_COM_IMG						(WIID_OPTION + 210)			/**< 커뮤니티 이미지 <br> */
#define WIID_OPTION_COM_TRADE_IMG				(WIID_OPTION + 211)			/**< 거래 신청 이미지 <br> */
#define WIID_OPTION_COM_INVITE_IMG				(WIID_OPTION + 212)			/**< 파티초대 이미지 <br> */
#define WIID_OPTION_COM_PARTY_IMG				(WIID_OPTION + 213)			/**< 파티구함 이미지 <br> */
#define WIID_OPTION_COM_FRIEND_INVITE_IMG		(WIID_OPTION + 214)			/**< 친구초대 이미지 <br> */
#define WIID_OPTION_COM_ALERT_IMG				(WIID_OPTION + 215)			/**< 상태알림 이미지 <br> */
#define WIID_OPTION_COM_CHAT_IMG				(WIID_OPTION + 220)			/**< 채팅 이미지 <br> */
#define WIID_OPTION_COM_CHAT_PARTY_IMG			(WIID_OPTION + 221)			/**< 파티 채팅 표시 이미지 <br> */
#define WIID_OPTION_COM_CHAT_FRIEND_IMG			(WIID_OPTION + 222)			/**< 친구 채팅 표시 이미지 <br> */
#define WIID_OPTION_COM_CHAT_GUILD_IMG			(WIID_OPTION + 223)			/**< 길드 채팅 표시 이미지 <br> */
#define WIID_OPTION_COM_CHAT_ACCEPT_IMG			(WIID_OPTION + 230)			/**< 채팅 허용 이미지 <br> */
#define WIID_OPTION_COM_CHAT_ACCEPT_FRIEND_IMG	(WIID_OPTION + 231)			/**< 친구 채팅 허용 이미지 <br> */
#define WIID_OPTION_COM_CHAT_ACCEPT_WHISPER_IMG	(WIID_OPTION + 232)			/**< 귓속말 허용 이미지 <br> */
#define WIID_OPTION_COM_CHECK					(WIID_OPTION + 250)			/**< 커뮤니티 체크 버튼 리스트 <br> */

#define WIID_OPTION_BENEFIT						(WIID_OPTION + 300)			/**< 유저편의 <br> */
#define WIID_OPTIOM_BEN_NAME_IMG				(WIID_OPTION + 310)			/**< 이름표시 이미지 <br> */
#define WIID_OPTIOM_BEN_NAME_PLAYER_IMG			(WIID_OPTION + 311)			/**< 플레이어 이름 표시 이미지 <br> */
#define WIID_OPTIOM_BEN_NAME_MONSTER_IMG		(WIID_OPTION + 312)			/**< 몬스터 이름 표시 이미지 <br> */
#define WIID_OPTIOM_BEN_NAME_NPC_IMG			(WIID_OPTION + 313)			/**< NPC 이름 표시 이미지 <br> */
#define WIID_OPTIOM_BEN_NAME_PET_IMG			(WIID_OPTION + 314)			/**< Pet 이름 표시 이미지 <br> */
#define WIID_OPTIOM_BEN_SPEECH_IMG				(WIID_OPTION + 320)			/**< 말풍선 이미지 <br> */
#define WIID_OPTIOM_BEN_SPH_PLAYER				(WIID_OPTION + 321)			/**< 말풍선 전체 이미지 <br> */
#define WIID_OPTIOM_BEN_SPH_PARTY				(WIID_OPTION + 322)			/**< 말풍선 파티 이미지 <br> */
#define WIID_OPTIOM_BEN_SPH_GUILD				(WIID_OPTION + 323)			/**< 말풍선 길드 이미지 <br> */
#define WIID_OPTIOM_BEN_SPH_NPC					(WIID_OPTION + 324)			/**< 말풍선 NPC 이미지 <br> */
#define WIID_OPTION_BEN_CURSOR_IMG				(WIID_OPTION + 330)			/**< 커서 자동숨김 이미지 <br> */
#define WIID_OPTION_BEN_CURSOR_HIDE_IMG			(WIID_OPTION + 331)			/**< 커서 숨김 이미지 <br> */
#define WIID_OPTION_BEN_HP_IMG					(WIID_OPTION + 340)			/**< HP표시 이미지 <br> */
#define WIID_OPTION_BEN_HP_SELF_IMG				(WIID_OPTION + 341)			/**< HP표시 자신 이미지 <br> */
#define WIID_OPTION_BEN_HP_PARTY_IMG			(WIID_OPTION + 342)			/**< HP표시 파티 이미지 <br> */
#define WIID_OPTION_BEN_HP_PLAYER_IMG			(WIID_OPTION + 343)			/**< HP표시 타 플레이어 이미지 <br> */
#define WIID_OPTION_BEN_SCREEN_IMG				(WIID_OPTION + 350)			/**< 스크린샷 포멧 이미지 <br> */
#define WIID_OPTION_BEN_SCREEN_JPG_IMG			(WIID_OPTION + 351)			/**< 스크린샷 포멧 JPG 이미지 <br> */
#define WIID_OPTION_BEN_SCREEN_PNG_IMG			(WIID_OPTION + 352)			/**< 스크린샷 포멧 PNG 이미지 <br> */
#define WIID_OPTION_BEN_SCREEN_BMP_IMG			(WIID_OPTION + 353)			/**< 스크린샷 포멧 BMP 이미지 <br> */
#define WIID_OPTION_BEN_CHECK					(WIID_OPTION + 360)			/**< 유저편의 체크 버튼 리스트 <br> */

const int MAX_OPTION_SLIDER = 3;							/**< 슬라이더 갯수 <br> */



enum OPTION_TYPE {
	OPTION_TYPE_SYSTEM,					/**< 시스템 옵션 탭 <br> */
	OPTION_TYPE_COMMUNITY,				/**< 커뮤니티 옵션 탭 <br> */
	OPTION_TYPE_BENEFIT,				/**< 편의설정 옵션 탭 <br> */
	OPTION_TYPE_MAX,
};


enum OPTION_SYSTEM {
	OPTION_SYSTEM_EXP,					/**< 체크 습득 경험치 <br> */
	OPTION_SYSTEM_GAIN_ITEM,			/**< 체크 습득 아이템 <br> */
	OPTION_SYSTEM_USE_ITEM,				/**< 체크 아이템 사용 <br> */ 
	OPTION_SYSTEM_HELP,					/**< 체크 시스템 도움말 <br> */ 
	OPTION_SYSTEM_BGM,					/**< 체크 BGM <br> */
	OPTION_SYSTEM_SE,					/**< 체크 효과음 <br> */
	OPTION_SYSTEM_MAX,
};


enum OPTION_COMMUNITY {
	OPTION_COMMUNITY_TRADE,				/**< 거래신청 <br> */
	OPTION_COMMUNITY_INVATE,			/**< 파티 초대 <br> */
	OPTION_COMMUNITY_PARTY,				/**< 파티 구함 <br> */
	OPTION_COMMUNITY_FRIEND_INVATE,		/**< 친구 초대 <br> */
	OPTION_COMMUNITY_ALERT,				/**< 상태알림 <br> */
	OPTION_COMMUNITY_PARTY_CHAT,		/**< 파티 채팅 <br> */
	OPTION_COMMUNITY_FRIEND_CHAT,		/**< 친구 채팅 <br> */
	OPTION_COMMUNITY_GUILD_CHAT,		/**< 길드 채팅 <br> */
	//OPTION_COMMUNITY_PERMIT_FRIEND,		/**< 친구채팅 허용 <br> */
	OPTION_COMMUNITY_PERMIT_WHISPER,	/**< 귓속말 허용 <br> */
	OPTION_COMMUNITY_MAX,
};


enum OPTION_BENEFIT {
	OPTION_BENEFIT_INDICATE_PLAYER,		/**< 플레이어 이름 표시 <br> */
	OPTION_BENEFIT_INDICATE_MONSTER,	/**< 몬스터 이름 표시 <br> */
	OPTION_BENEFIT_INDICATE_NPC,		/**< NPC 이름 표시 <br> */
	OPTION_BENEFIT_INDICATE_PET,		/**< PET 이름 표시 <br> */
    OPTION_BENEFIT_SPEECH_PLAYER,		/**< 말풍선 전체 <br> */
	OPTION_BENEFIT_SPEECH_TEAM,			/**< 말풍선 파티 <br> */
	OPTION_BENEFIT_SPEECH_GUILD,		/**< 말풍선 길드 <br> */
	OPTION_BENEFIT_SPEECH_NPC,			/**< 말풍선 NPC <br> */	
	OPTION_BENEFIT_CURSOR,				/**< 커서 자동 숨김 <br> */
	OPTION_BENEFIT_HP_SELF,				/**< HPBar 자신 <br> */
	OPTION_BENEFIT_HP_PARTY,			/**< HPBar 파티 <br> */
	OPTION_BENEFIT_HP_PLAYER,			/**< HPBar 타 플레이어 <br> */
	OPTION_BENEFIT_SCR_JPG,				/**< 스크린샷 JPG <br> */
	OPTION_BENEFIT_SCR_PNG,				/**< 스크린샷 PNG <br> */
	OPTION_BENEFIT_SCR_BMP,				/**< 스크린샷 BMP <br> */	
	OPTION_BENEFIT_MAX,
};


class SPWindow;
class SPWindowButton;

#include "SPOptionDef.h"

class SPWindowOption : public SPWindow {
public:
	SPWindowOption(INSTANCE_ID InstanceID, int iX, int iY, int iCX, int iCY, SPWindow* pParent);	
	~SPWindowOption();

	virtual void Init();
	virtual void Clean();

	virtual void Process(float fTime);
	virtual void Render(float fTime);

	virtual void Show(bool bWithChild = true);
	virtual void Hide(bool bSendServer = true);

private:
	/**
	 * 내부 컨트롤 생성 <br> 
	 @param 
	 @return  
	*/
	void InitSubControl();
	
	/**
	 * Page 별 컨트롤 Show / Hide 처리 <br>
	 @param 
	 @return  
	*/
	void UpdateSubControl();	
	
	/**
	 * Option Data에 따른 컨트롤 업데이트 <br>
	 @param unsigned int  iRefreshOption
	 @return  NULL
	*/
	void UpdateData(unsigned int  iRefreshOption);
	
	/**
	 * Cancel실 추가 처리 작업 <br> 
	 @param 
	 @return  
	*/
	void UpdateCanCel();
	
	/**
	 * 스크린샷 포멧 설정에 따른 컨트롤 업데이트 <br>
	 @param 
	 @return  
	*/
	void UpdateScreenShotFormat(SPOptionStruct* pOption = NULL);
	
	inline void SetCheckButton(SPWindowButton* pButton = NULL);
	inline void SetRadioButton(SPWindowButton* pButton = NULL);

protected:
	// {{ Message Map	
	SPIMESSAGE_OBJ_MAP_DECLARE()
	int OnReceiveOption		(WPARAM wParam, LPARAM lparam);
	int OnExit				(WPARAM wParam, LPARAM lparam);
	int OnReset				(WPARAM wParam, LPARAM lparam);
	int OnOk				(WPARAM wParam, LPARAM lparam);
	int OnCancel			(WPARAM wParam, LPARAM lparam);
	int OnJoyPad			(WPARAM wParam, LPARAM lparam);
	int OnSystem			(WPARAM wParam, LPARAM lparam);
	int OnCommunity			(WPARAM wParam, LPARAM lparam);
	int OnBenefit			(WPARAM wParam, LPARAM lparam);
	int OnCheckSystem		(unsigned int iID, WPARAM wParam, LPARAM lparam);
	int OnCheckCommunity	(unsigned int iID, WPARAM wParam, LPARAM lparam);
	int OnCheckBenefit		(unsigned int iID, WPARAM wParam, LPARAM lparam);
	int OnBGM				(WPARAM wParam, LPARAM lparam);
	int OnSoundEffect		(WPARAM wParam, LPARAM lparam);
	int OnGammaRamp			(WPARAM wParam, LPARAM lparam);
	int OnEffect			(WPARAM wParam, LPARAM lparam);	

private:
	////
	SPTexture*		m_pTextureBase;					/**< 윈도우 바탕용 리소스 <br> */
	RECT			m_rtSrcBase[WINDOW_BASE_MAX];	/**< 윈도우 바탕 소스 영역 <br> */
	RECT			m_rtDestBase[WINDOW_BASE_MAX];	/**< 윈도우 바탕 대상 <br> */

	SPWindow*		m_pType[OPTION_TYPE_MAX];		/**< 옵션 종류별 버튼 <br> */
	SPWindow*		m_pBase[OPTION_TYPE_MAX];		/**< 옵션 종류별 윈도우 베이스 <br> */			

	OPTION_TYPE		m_iOptionType;					/**< 현재 선택중인 옵션 종류 <br> */

	SPWindow*		m_pSystemCheck[OPTION_SYSTEM_MAX];			/**< 시스템 옵션에 사용되는 체크 버튼 리스트 <br> */
	SPWindow*		m_pCommunityCheck[OPTION_COMMUNITY_MAX];	/**< 커뮤니티 옵션에 사용되는 체크 버튼 리스트 <br> */
	SPWindow*		m_pBenefitCheck[OPTION_BENEFIT_MAX];		/**< 편의 옵션에 사용되는 체크 버튼 리스트 <br> */	

	SERVER_SIDE_OPTION	m_cusCopyServer;				/**< 임시 저장용 서버 옵션 공간 <br> */
	SPOptionStruct*		m_pCopyOption;					/**< 임시 저장용 클라이언트 옵션 공간 <br> */
};


